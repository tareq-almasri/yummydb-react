{"ast":null,"code":"import _slicedToArray from\"/home/dci/DCI-2019-2020/yummy-db-heroku-netlify/react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from\"react\";import\"../styles/OneRecipe.css\";import Header from\"./Header\";import Footer from\"./Footer\";import{TokenContext}from\"./TokenContext\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faStar}from\"@fortawesome/free-solid-svg-icons\";import{NavLink}from\"reactstrap\";var OneRecipe=function OneRecipe(_ref){var match=_ref.match;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),recipe=_useState2[0],setRecipe=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),ingredients=_useState4[0],setIngredients=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),ingDetails=_useState6[0],setIngDetails=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),instructions=_useState8[0],setInstructions=_useState8[1];var _useState9=useState(1),_useState10=_slicedToArray(_useState9,2),servings=_useState10[0],setServings=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isFav=_useState12[0],setIsFav=_useState12[1];var _useContext=useContext(TokenContext),_useContext2=_slicedToArray(_useContext,2),token=_useContext2[0],setToken=_useContext2[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),recID=_useState14[0],setRecID=_useState14[1];var _useState15=useState({}),_useState16=_slicedToArray(_useState15,2),wineObj=_useState16[0],setWineObj=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),title=_useState18[0],setTitle=_useState18[1];console.log(setToken);useEffect(function(){fetch(\"https://api.spoonacular.com/recipes/\".concat(match.params.id,\"/information?amount=1&apiKey=\").concat(process.env.REACT_APP_API_IN_USE),{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}}).then(function(res){return res.json();}).then(function(res){setRecipe(res);setTitle(res.title);setWineObj(res.winePairing);setIngredients(res.extendedIngredients);setRecID(res.id);if(token){checkFav(res.id);}}).catch(function(err){console.log(err);});fetch(\"https://api.spoonacular.com/recipes/\".concat(match.params.id,\"/nutritionWidget.json?&apiKey=\").concat(process.env.REACT_APP_API_IN_USE),{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}}).then(function(res){return res.json();}).then(function(res){return setIngDetails(res);}).catch(function(err){console.log(err);});fetch(\"https://api.spoonacular.com/recipes/\".concat(match.params.id,\"/analyzedInstructions?&apiKey=\").concat(process.env.REACT_APP_API_IN_USE),{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}}).then(function(res){return res.json();}).then(function(res){return setInstructions(res[0].steps);}).catch(function(err){console.log(err);});var checkFav=function checkFav(id){fetch(\"https://yummydb-api.herokuapp.com/check-fav/\".concat(id),{// fetch(`http://localhost:5000/check-fav/${id}`, {\nheaders:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)}}).then(function(res){return res.json();}).then(function(data){return setIsFav(data);});};},[match.params.id,servings,token]);var handleAddToFav=function handleAddToFav(){if(isFav){fetch(\"https://yummydb-api.herokuapp.com/remove-fav/\".concat(recID),{// fetch(`http://localhost:5000/remove-fav/${recID}`, {\nheaders:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)},method:\"DELETE\"}).then(function(res){return res.json();}).then(function(data){setIsFav(!isFav);console.log(data);});}else{fetch(\"https://yummydb-api.herokuapp.com/add-fav\",{// fetch(`http://localhost:5000/add-fav`, {\nheaders:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)},body:JSON.stringify({recipe:recipe}),method:\"POST\"}).then(function(res){return res.json();}).then(function(data){setIsFav(!isFav);console.log(data);});}};return React.createElement(\"div\",null,React.createElement(Header,null),React.createElement(\"h2\",{className:\"recipe-title\"},title.replace(/^\\w/,function(c){return c.toUpperCase();})),React.createElement(\"div\",{className:\"main-section\"},React.createElement(\"div\",{className:\"image-nutrition\"},React.createElement(\"div\",{className:\"recipe-image\"},React.createElement(\"div\",{className:\"image-fav-icon\"},token?React.createElement(NavLink,{className:\"star\",title:isFav?\"remove from favorite\":\"add to favorite\",onClick:handleAddToFav},React.createElement(FontAwesomeIcon,{icon:faStar,color:isFav?\"yellow\":\"gray\"}),React.createElement(\"span\",{id:\"fav-text\"},isFav?\"Remove from favorite\":\"Add to favorite\")):\"\",React.createElement(\"img\",{id:\"image\",src:recipe.image,alt:recipe.title})),React.createElement(\"div\",{className:\"recipe-nutrition\"},React.createElement(\"span\",null,\"Calories: \",ingDetails.calories,\"kcal\"),React.createElement(\"span\",null,\"Carbs: \",ingDetails.carbs),React.createElement(\"span\",null,\"Fat: \",ingDetails.fat),React.createElement(\"span\",null,\"Protein: \",ingDetails.protein)))),React.createElement(\"hr\",null),React.createElement(\"div\",{className:\"ingrediets-instructions\"},React.createElement(\"div\",{className:\"section\"},React.createElement(\"h3\",{className:\"title\"},\"Ingredients\"),React.createElement(\"h5\",{className:\"text-servings\"},\"Servings:\",React.createElement(\"input\",{id:\"input-servings\",autoFocus:true,type:\"Number\",min:\"1\",value:servings,onChange:function onChange(e){return setServings(e.target.value);}})),React.createElement(\"div\",{className:\"ingredients-section\"},console.log(ingredients),ingredients.map(function(res){return React.createElement(\"div\",{key:Math.random(),className:\"ingredients\"},React.createElement(\"p\",{className:\"ingredients-details\"},res.amount*servings,\" \",res.unit),React.createElement(\"div\",{className:\"imagine-ingredients-section\"},React.createElement(\"img\",{src:\"https://spoonacular.com/cdn/ingredients_100x100/\".concat(res.image),alt:res.title,className:\"image-ingredient\"})),React.createElement(\"p\",{className:\"ingredients-details\"},res.name));}))),React.createElement(\"hr\",null),React.createElement(\"div\",{className:\"section\"},React.createElement(\"h3\",{className:\"title\"},\"Instructions\"),instructions.map(function(res){return React.createElement(\"li\",{key:Math.random()},React.createElement(\"span\",{className:\"badge badge-warning\"},res.number),React.createElement(\"span\",{id:\"instruction\"},res.step));})),wineObj.pairedWines?React.createElement(\"div\",{className:\"section\"},React.createElement(\"hr\",null),React.createElement(\"h3\",{className:\"title\"},\"Wine pairing\"),wineObj.pairingText):\"\")),React.createElement(Footer,null));};export default OneRecipe;","map":{"version":3,"sources":["/home/dci/DCI-2019-2020/yummy-db-heroku-netlify/react/src/components/OneRecipe.js"],"names":["React","useState","useEffect","useContext","Header","Footer","TokenContext","FontAwesomeIcon","faStar","NavLink","OneRecipe","match","recipe","setRecipe","ingredients","setIngredients","ingDetails","setIngDetails","instructions","setInstructions","servings","setServings","isFav","setIsFav","token","setToken","recID","setRecID","wineObj","setWineObj","title","setTitle","console","log","fetch","params","id","process","env","REACT_APP_API_IN_USE","method","headers","then","res","json","winePairing","extendedIngredients","checkFav","catch","err","steps","Authorization","data","handleAddToFav","body","JSON","stringify","replace","c","toUpperCase","image","calories","carbs","fat","protein","e","target","value","map","Math","random","amount","unit","name","number","step","pairedWines","pairingText"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport \"../styles/OneRecipe.css\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport { TokenContext } from \"./TokenContext\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faStar } from \"@fortawesome/free-solid-svg-icons\";\nimport { NavLink } from \"reactstrap\";\n\nconst OneRecipe = ({ match }) => {\n  const [recipe, setRecipe] = useState({});\n  const [ingredients, setIngredients] = useState([]);\n  const [ingDetails, setIngDetails] = useState([]);\n  const [instructions, setInstructions] = useState([]);\n  const [servings, setServings] = useState(1);\n  const [isFav, setIsFav] = useState(false);\n  const [token, setToken] = useContext(TokenContext);\n  const [recID, setRecID] = useState();\n  const [wineObj, setWineObj] = useState({});\n  const [title, setTitle] = useState(\"\");\n  console.log(setToken)\n\n\n  useEffect(() => {\n    fetch(\n      `https://api.spoonacular.com/recipes/${match.params.id}/information?amount=1&apiKey=${process.env.REACT_APP_API_IN_USE}`,\n      {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n      .then((res) => res.json())\n      .then((res) => {\n        setRecipe(res);\n        setTitle(res.title);\n        setWineObj(res.winePairing);\n        setIngredients(res.extendedIngredients);\n        setRecID(res.id);\n        if (token) {\n          checkFav(res.id);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    fetch(\n      `https://api.spoonacular.com/recipes/${match.params.id}/nutritionWidget.json?&apiKey=${process.env.REACT_APP_API_IN_USE}`,\n      {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n      .then((res) => res.json())\n      .then((res) => setIngDetails(res))\n      .catch((err) => {\n        console.log(err);\n      });\n    fetch(\n      `https://api.spoonacular.com/recipes/${match.params.id}/analyzedInstructions?&apiKey=${process.env.REACT_APP_API_IN_USE}`,\n      {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n      .then((res) => res.json())\n      .then((res) => setInstructions(res[0].steps))\n      .catch((err) => {\n        console.log(err);\n      });\n\n    const checkFav = (id) => {\n      fetch(`https://yummydb-api.herokuapp.com/check-fav/${id}`, {\n        // fetch(`http://localhost:5000/check-fav/${id}`, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n        })\n          .then((res) => res.json())\n          .then((data) => setIsFav(data));\n    };\n  }, [match.params.id, servings, token]);\n\n  const handleAddToFav = () => {\n    if (isFav) {\n      fetch(`https://yummydb-api.herokuapp.com/remove-fav/${recID}`, {\n        // fetch(`http://localhost:5000/remove-fav/${recID}`, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n          method: \"DELETE\",\n        })\n          .then((res) => res.json())\n          .then((data) => {\n            setIsFav(!isFav);\n            console.log(data);\n          });\n    } else {\n      fetch(`https://yummydb-api.herokuapp.com/add-fav`, {\n        // fetch(`http://localhost:5000/add-fav`, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n          body: JSON.stringify({ recipe: recipe }),\n          method: \"POST\",\n        })\n          .then((res) => res.json())\n          .then((data) => {\n            setIsFav(!isFav);\n            console.log(data);\n          });\n    }\n  };\n\n  return (\n    <div>\n      <Header />\n      <h2 className=\"recipe-title\">{title.replace(/^\\w/, (c) => c.toUpperCase())}</h2>\n      \n      <div className=\"main-section\">\n        <div className=\"image-nutrition\">\n          <div className=\"recipe-image\">\n          <div className=\"image-fav-icon\">\n          {token ? (\n              <NavLink\n                className=\"star\"\n                title={isFav ? \"remove from favorite\" : \"add to favorite\"}\n                onClick={handleAddToFav}\n              >\n                <FontAwesomeIcon\n                  icon={faStar}\n                  color={isFav ? \"yellow\" : \"gray\"}\n                />\n              <span id=\"fav-text\">{isFav ? \"Remove from favorite\" : \"Add to favorite\"}</span></NavLink>\n            ) : (\n              \"\"\n            )}\n            <img id=\"image\" src={recipe.image} alt={recipe.title} />\n            \n            </div>\n            <div className=\"recipe-nutrition\">\n              <span>Calories: {ingDetails.calories}kcal</span>\n              <span>Carbs: {ingDetails.carbs}</span>\n              <span>Fat: {ingDetails.fat}</span>\n              <span>Protein: {ingDetails.protein}</span>\n            </div>\n          </div>\n        </div>\n        <hr/>\n        <div className=\"ingrediets-instructions\">\n          <div className=\"section\">\n            <h3 className=\"title\">Ingredients</h3>\n            <h5 className=\"text-servings\">\n              Servings:\n              <input \n                id=\"input-servings\"\n                autoFocus\n                type=\"Number\"\n                min=\"1\"\n                value={servings}\n                onChange={(e) => setServings(e.target.value)}\n              />\n            </h5>\n\n            <div className=\"ingredients-section\">\n              {console.log(ingredients)}\n              \n              {ingredients.map((res) => (\n                \n                <div key={Math.random()} className=\"ingredients\">\n                \n                  <p className=\"ingredients-details\">\n                    {res.amount * servings} {res.unit}\n                  </p>\n                  <div className=\"imagine-ingredients-section\">\n                    <img\n                      src={`https://spoonacular.com/cdn/ingredients_100x100/${res.image}`}\n                      alt={res.title}\n                      className=\"image-ingredient\"\n                    />\n                  </div>\n                  <p className=\"ingredients-details\">{res.name}</p>\n                </div>\n              ))}\n            </div>\n          </div><hr/>\n          <div className=\"section\">\n            <h3 className=\"title\">Instructions</h3>\n            {instructions.map((res) => (\n              <li key={Math.random()}>\n              <span className=\"badge badge-warning\">{res.number}</span>\n                {/* <span id=\"instruction-number\">{res.number}</span> */}\n                <span id=\"instruction\">{res.step}</span>\n              </li>\n            ))}\n          </div>\n            {wineObj.pairedWines  ? (\n              \n              <div className=\"section\"><hr/>\n                <h3 className=\"title\">Wine pairing</h3>\n                {wineObj.pairingText}\n              </div>\n            ) : (\n              \"\"\n            )}\n          </div>\n        \n      </div>\n      <Footer />\n    </div>\n  );\n};\nexport default OneRecipe;\n"]},"metadata":{},"sourceType":"module"}