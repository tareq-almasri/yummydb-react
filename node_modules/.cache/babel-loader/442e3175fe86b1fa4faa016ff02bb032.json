{"ast":null,"code":"import _slicedToArray from\"/home/dci/DCI-2019-2020/yummy-db-heroku-netlify/react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from\"react\";import\"bootstrap/dist/css/bootstrap.min.css\";import{TokenContext}from\"./TokenContext\";import\"../styles/header.css\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faUtensils,faStar,faUserEdit,faSignOutAlt,faAngleUp,faAngleDown}from\"@fortawesome/free-solid-svg-icons\";import{Collapse,Navbar,NavbarToggler,NavbarBrand,Nav,NavItem,NavLink}from\"reactstrap\";import SearchBar from\"./SearchBar\";import Profile from\"./Profile\";// import { useHistory, Link } from \"react-router-dom\";\nimport{Link}from\"react-router-dom\";var Header=function Header(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var _useContext=useContext(TokenContext),_useContext2=_slicedToArray(_useContext,2),token=_useContext2[0],setToken=_useContext2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];// const history=useHistory();\nvar handleSignOut=function handleSignOut(){setToken(null);localStorage.removeItem(\"token\");};var handleShowInfo=function handleShowInfo(){setShow(!show);};var toggle=function toggle(){return setIsOpen(!isOpen);};useEffect(function(){if(token){fetch(\"https://yummydb-api.herokuapp.com/check-token\",{// fetch(`http://localhost:5000/check-token`, {\nheaders:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)}}).then(function(res){return res.json();}).then(function(data){if(data===\"expired\"){setToken(null);localStorage.removeItem(\"token\");}});}},[setToken,token]);return React.createElement(\"div\",{style:{fontSize:\"18px\",position:\"relative\",zIndex:\"3\"}},React.createElement(Navbar,{style:{padding:\"8px 40px 8px 50px\",backgroundColor:\"#000\"},dark:true,expand:\"md\"},React.createElement(NavbarBrand,{href:\"/\"},React.createElement(\"span\",{className:\"logoA\"},\"yummy \"),React.createElement(\"span\",{className:\"logoB\"},\"DB\")),React.createElement(NavbarToggler,{onClick:toggle}),React.createElement(Collapse,{isOpen:isOpen,navbar:true},React.createElement(Nav,{className:\"mr-auto, nav-bar\",navbar:true},React.createElement(NavItem,{style:{paddingLeft:\"40px\"}},React.createElement(Link,{to:\"/recipes\"},React.createElement(\"div\",{className:\"navLinkBtn recipes-btn\"},\"Recipes\",\" \",React.createElement(FontAwesomeIcon,{className:\"search-icon\",icon:faUtensils})))),React.createElement(NavItem,null,React.createElement(SearchBar,null)),token?React.createElement(\"div\",{className:\"nav\"},React.createElement(NavLink,null,React.createElement(\"div\",{className:\"navLinkBtn\",onClick:handleShowInfo},React.createElement(\"span\",null,show?\"hide info\":\"show info\"),\" \",show?React.createElement(FontAwesomeIcon,{style:{paddingTop:\"4px\"},icon:faAngleUp}):React.createElement(FontAwesomeIcon,{style:{paddingTop:\"4px\"},icon:faAngleDown}))),React.createElement(NavItem,null,React.createElement(Link,{title:\"your favorite recipes\",to:\"/favorite\"},React.createElement(\"div\",{className:\"navLinkBtn\"},React.createElement(FontAwesomeIcon,{icon:faStar})))),React.createElement(NavItem,null,React.createElement(Link,{title:\"update your info\",to:\"/edit-account-info\"},React.createElement(\"div\",{className:\"navLinkBtn\"},React.createElement(FontAwesomeIcon,{icon:faUserEdit})))),React.createElement(Link,{to:\"/\"},React.createElement(\"div\",{className:\"navLinkBtn\",title:\"sign out\",onClick:handleSignOut},React.createElement(FontAwesomeIcon,{icon:faSignOutAlt})))):React.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",width:\"150px\"}},React.createElement(NavItem,null,React.createElement(Link,{to:\"/sign-up\"},React.createElement(\"div\",{className:\"navLinkBtn\"},\"Sign up\"))),React.createElement(NavItem,null,React.createElement(Link,{to:\"/login\"},React.createElement(\"div\",{className:\"navLinkBtn\"},\"Log in\"))))))),React.createElement(Profile,{pos:show?\"open\":\"\"}));};export default Header;","map":{"version":3,"sources":["/home/dci/DCI-2019-2020/yummy-db-heroku-netlify/react/src/components/Header.js"],"names":["React","useState","useContext","useEffect","TokenContext","FontAwesomeIcon","faUtensils","faStar","faUserEdit","faSignOutAlt","faAngleUp","faAngleDown","Collapse","Navbar","NavbarToggler","NavbarBrand","Nav","NavItem","NavLink","SearchBar","Profile","Link","Header","isOpen","setIsOpen","token","setToken","show","setShow","handleSignOut","localStorage","removeItem","handleShowInfo","toggle","fetch","headers","Authorization","then","res","json","data","fontSize","position","zIndex","padding","backgroundColor","paddingLeft","paddingTop","display","justifyContent","width"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { TokenContext } from \"./TokenContext\";\nimport \"../styles/header.css\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faUtensils,\n  faStar,\n  faUserEdit,\n  faSignOutAlt,\n  faAngleUp,\n  faAngleDown,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport {\n  Collapse,\n  Navbar,\n  NavbarToggler,\n  NavbarBrand,\n  Nav,\n  NavItem,\n  NavLink,\n} from \"reactstrap\";\nimport SearchBar from \"./SearchBar\";\nimport Profile from \"./Profile\";\n// import { useHistory, Link } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\n\nconst Header = () => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [token, setToken] = useContext(TokenContext);\n  const [show, setShow] = useState(false);\n  // const history=useHistory();\n\n  const handleSignOut = () => {\n    setToken(null);\n    localStorage.removeItem(\"token\");\n  };\n  const handleShowInfo = () => {\n    setShow(!show);\n  };\n\n  const toggle = () => setIsOpen(!isOpen);\n\n  useEffect(() => {\n    if (token) {\n      fetch(`https://yummydb-api.herokuapp.com/check-token`, {\n      // fetch(`http://localhost:5000/check-token`, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          if (data === \"expired\") {\n            setToken(null);\n            localStorage.removeItem(\"token\");\n          }\n        });\n    }\n  }, [setToken, token]);\n\n  return (\n    <div style={{ fontSize: \"18px\", position: \"relative\", zIndex: \"3\" }}>\n      <Navbar\n        style={{ padding: \"8px 40px 8px 50px\", backgroundColor: \"#000\" }}\n        dark\n        expand=\"md\"\n      >\n        <NavbarBrand href=\"/\">\n          <span className=\"logoA\">yummy </span>\n          <span className=\"logoB\">DB</span>\n        </NavbarBrand>\n        <NavbarToggler onClick={toggle} />\n        <Collapse isOpen={isOpen} navbar>\n          <Nav className=\"mr-auto, nav-bar\" navbar>\n            <NavItem style={{ paddingLeft: \"40px\" }}>\n              <Link to=\"/recipes\">\n                <div className=\"navLinkBtn recipes-btn\">\n                  Recipes{\" \"}\n                  <FontAwesomeIcon className=\"search-icon\" icon={faUtensils} />\n                </div>\n              </Link>\n            </NavItem>\n            <NavItem>\n              <SearchBar />\n            </NavItem>\n            {token ? (\n              <div className=\"nav\">\n                <NavLink>\n                  <div className=\"navLinkBtn\" onClick={handleShowInfo}>\n                    <span>{show ? \"hide info\" : \"show info\"}</span>{\" \"}\n                    {show ? (\n                      <FontAwesomeIcon\n                        style={{ paddingTop: \"4px\" }}\n                        icon={faAngleUp}\n                      />\n                    ) : (\n                      <FontAwesomeIcon\n                        style={{ paddingTop: \"4px\" }}\n                        icon={faAngleDown}\n                      />\n                    )}\n                  </div>\n                </NavLink>\n                <NavItem>\n                  <Link title=\"your favorite recipes\" to=\"/favorite\">\n                    <div className=\"navLinkBtn\">\n                      <FontAwesomeIcon icon={faStar} />\n                    </div>\n                  </Link>\n                </NavItem>\n                <NavItem>\n                  <Link title=\"update your info\" to=\"/edit-account-info\">\n                    <div className=\"navLinkBtn\">\n                      <FontAwesomeIcon icon={faUserEdit} />\n                    </div>\n                  </Link>\n                </NavItem>\n                <Link to=\"/\">\n                  <div\n                    className=\"navLinkBtn\"\n                    title=\"sign out\"\n                    onClick={handleSignOut}\n                  >\n                    <FontAwesomeIcon icon={faSignOutAlt} />\n                  </div>\n                </Link>\n              </div>\n            ) : (\n              <div\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  width: \"150px\",\n                }}\n              >\n                <NavItem>\n                  <Link to=\"/sign-up\">\n                    <div className=\"navLinkBtn\">Sign up</div>\n                  </Link>\n                </NavItem>\n                <NavItem>\n                  <Link to=\"/login\">\n                    <div className=\"navLinkBtn\">Log in</div>\n                  </Link>\n                </NavItem>\n              </div>\n            )}\n          </Nav>\n        </Collapse>\n      </Navbar>\n\n      <Profile pos={show ? \"open\" : \"\"} />\n    </div>\n  );\n};\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}