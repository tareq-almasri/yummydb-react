{"ast":null,"code":"var _jsxFileName = \"/home/dci/lord-of-scripts/final-project/food-nutrition/src/components/Login.js\";\nimport React, { useState, useContext } from \"react\";\nimport { TokenContext } from \"./TokenContext\";\nexport default function Login() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const {\n    token,\n    setToken\n  } = useContext(TokenContext);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    fetch(\"http://localhost/login\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        email: email,\n        password: password\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n      setToken(data);\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"input\", {\n    type: \"email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, \"password\"), React.createElement(\"input\", {\n    type: \"password\",\n    value: password,\n    onChange: e => setPassword,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, \"Login\")));\n}","map":{"version":3,"sources":["/home/dci/lord-of-scripts/final-project/food-nutrition/src/components/Login.js"],"names":["React","useState","useContext","TokenContext","Login","email","setEmail","password","setPassword","token","setToken","handleSubmit","e","preventDefault","fetch","method","body","JSON","stringify","headers","then","res","json","data","console","log","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAA4C,OAA5C;AACA,SAASC,YAAT,QAA6B,gBAA7B;AAGA,eAAe,SAASC,KAAT,GAAiB;AAC5B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAkBL,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACM,QAAD,EAAWC,WAAX,IAAwBP,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM;AAACQ,IAAAA,KAAD;AAAQC,IAAAA;AAAR,MAAoBR,UAAU,CAACC,YAAD,CAApC;;AAEA,QAAMQ,YAAY,GAAEC,CAAD,IAAK;AACpBA,IAAAA,CAAC,CAACC,cAAF;AACAC,IAAAA,KAAK,CAAC,wBAAD,EAA2B;AAC9BC,MAAAA,MAAM,EAAE,MADsB;AAE9BC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEb,QAAAA,KAAK,EAAEA,KAAT;AAAgBE,QAAAA,QAAQ,EAAEA;AAA1B,OAAf,CAFwB;AAG9BY,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AAHqB,KAA3B,CAAL,CAIGC,IAJH,CAIQC,GAAG,IAAEA,GAAG,CAACC,IAAJ,EAJb,EAIyBF,IAJzB,CAI8BG,IAAI,IAAG;AAACC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACFb,MAAAA,QAAQ,CAACa,IAAD,CAAR;AAAe,KALnD;AAMH,GARD;;AASA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,QAAQ,EAAEZ,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,EAEI;AAAO,IAAA,IAAI,EAAC,OAAZ;AAAoB,IAAA,KAAK,EAAEN,KAA3B;AAAkC,IAAA,QAAQ,EAAGO,CAAD,IAAKN,QAAQ,CAACM,CAAC,CAACc,MAAF,CAASC,KAAV,CAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ,EAII;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,KAAK,EAAEpB,QAA9B;AAAwC,IAAA,QAAQ,EAAGK,CAAD,IAAKJ,WAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aALJ,CADJ,CADJ;AAWH","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { TokenContext } from \"./TokenContext\";\n\n\nexport default function Login() {\n    const [email, setEmail]=useState('');\n    const [password, setPassword]=useState('');\n    const {token, setToken} = useContext(TokenContext);\n\n    const handleSubmit=(e)=>{\n        e.preventDefault();\n        fetch(\"http://localhost/login\", {\n          method: \"POST\",\n          body: JSON.stringify({ email: email, password: password }),\n          headers: { \"Content-Type\": \"application/json\" }\n        }).then(res=>res.json()).then(data=> {console.log(data);\n                                            setToken(data)})\n    }\n    return (\n        <div>\n            <form onSubmit={handleSubmit}>\n                <label>Email</label>\n                <input type='email' value={email} onChange={(e)=>setEmail(e.target.value)}/>\n                <label>password</label>\n                <input type='password' value={password} onChange={(e)=>setPassword}/>\n                <button>Login</button>\n            </form>\n        </div>\n    )\n}\n\n\n"]},"metadata":{},"sourceType":"module"}