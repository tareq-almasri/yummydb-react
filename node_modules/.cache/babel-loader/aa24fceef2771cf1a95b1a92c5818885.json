{"ast":null,"code":"import _slicedToArray from\"/home/dci/lord-of-scripts/yummy-db/react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from\"react\";import\"bootstrap/dist/css/bootstrap.min.css\";import{TokenContext}from\"./TokenContext\";import\"../styles/header.css\";import{ApiContext}from'./ApiContext';import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faUtensils,faStar,faUserEdit,faSignOutAlt,faAngleUp,faAngleDown}from\"@fortawesome/free-solid-svg-icons\";import{Collapse,Navbar,NavbarToggler,NavbarBrand,Nav,NavItem,NavLink}from\"reactstrap\";import SearchBar from\"./SearchBar\";import Profile from\"./Profile\";import{useHistory}from\"react-router-dom\";var Header=function Header(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var _useContext=useContext(ApiContext),_useContext2=_slicedToArray(_useContext,2),query=_useContext2[0],setQuery=_useContext2[1];var _useContext3=useContext(TokenContext),_useContext4=_slicedToArray(_useContext3,2),token=_useContext4[0],setToken=_useContext4[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var history=useHistory();var handleSignOut=function handleSignOut(){setToken(null);localStorage.removeItem(\"token\");history.push('/');};var handleShowInfo=function handleShowInfo(){setShow(!show);};var toggle=function toggle(){return setIsOpen(!isOpen);};useEffect(function(){if(token){fetch(\"http://localhost:5000/check-token\",{headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)}}).then(function(res){return res.json();}).then(function(data){if(data===\"expired\"){setToken(null);localStorage.removeItem(\"token\");}});}},[setToken,token]);return React.createElement(\"div\",{style:{fontSize:\"18px\",position:\"relative\",zIndex:\"3\"}},React.createElement(Navbar,{style:{padding:\"8px 40px 8px 50px\",backgroundColor:'#000'},dark:true,expand:\"md\"},React.createElement(NavbarBrand,{href:\"/\"},React.createElement(\"span\",{className:\"logoA\"},\"yummy \"),React.createElement(\"span\",{className:\"logoB\"},\"DB\")),React.createElement(NavbarToggler,{onClick:toggle}),React.createElement(Collapse,{isOpen:isOpen,navbar:true},React.createElement(Nav,{className:\"mr-auto, nav-bar\",navbar:true},React.createElement(NavItem,{style:{paddingLeft:\"40px\"}},React.createElement(NavLink,{href:\"/recipes\"},React.createElement(\"div\",{className:\"navLinkBtn\"},\"Recipes\",\" \",React.createElement(FontAwesomeIcon,{className:\"search-icon\",icon:faUtensils})))),React.createElement(NavItem,null,React.createElement(SearchBar,null)),token?React.createElement(\"div\",{className:\"nav\"},React.createElement(NavLink,null,React.createElement(\"div\",{className:\"navLinkBtn\",onClick:handleShowInfo},React.createElement(\"span\",null,show?\"hide info\":\"show info\"),\" \",show?React.createElement(FontAwesomeIcon,{style:{paddingTop:\"4px\"},icon:faAngleUp}):React.createElement(FontAwesomeIcon,{style:{paddingTop:\"4px\"},icon:faAngleDown}))),React.createElement(NavItem,null,React.createElement(NavLink,{title:\"your favorite recipes\",href:\"/favorite\"},React.createElement(\"div\",{className:\"navLinkBtn\"},React.createElement(FontAwesomeIcon,{icon:faStar})))),React.createElement(NavItem,null,React.createElement(NavLink,{title:\"update your info\",href:\"/edit-account-info\"},React.createElement(\"div\",{className:\"navLinkBtn\"},React.createElement(FontAwesomeIcon,{icon:faUserEdit})))),React.createElement(NavLink,null,React.createElement(\"div\",{className:\"navLinkBtn\",title:\"sign out\",onClick:handleSignOut},React.createElement(FontAwesomeIcon,{icon:faSignOutAlt})))):React.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",width:\"150px\"}},React.createElement(NavItem,null,React.createElement(NavLink,{href:\"/sign-up\"},React.createElement(\"div\",{className:\"navLinkBtn\"},\"Sign up\"))),React.createElement(NavItem,null,React.createElement(NavLink,{href:\"/login\"},React.createElement(\"div\",{className:\"navLinkBtn\"},\"Log in\"))))))),React.createElement(Profile,{pos:show?\"open\":\"\"}));};export default Header;","map":{"version":3,"sources":["/home/dci/lord-of-scripts/yummy-db/react/src/components/Header.js"],"names":["React","useState","useContext","useEffect","TokenContext","ApiContext","FontAwesomeIcon","faUtensils","faStar","faUserEdit","faSignOutAlt","faAngleUp","faAngleDown","Collapse","Navbar","NavbarToggler","NavbarBrand","Nav","NavItem","NavLink","SearchBar","Profile","useHistory","Header","isOpen","setIsOpen","query","setQuery","token","setToken","show","setShow","history","handleSignOut","localStorage","removeItem","push","handleShowInfo","toggle","fetch","headers","Authorization","then","res","json","data","fontSize","position","zIndex","padding","backgroundColor","paddingLeft","paddingTop","display","justifyContent","width"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { TokenContext } from \"./TokenContext\";\nimport \"../styles/header.css\";\nimport {ApiContext} from './ApiContext';\n\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faUtensils,\n  faStar,\n  faUserEdit,\n  faSignOutAlt,\n  faAngleUp,\n  faAngleDown,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport {\n  Collapse,\n  Navbar,\n  NavbarToggler,\n  NavbarBrand,\n  Nav,\n  NavItem,\n  NavLink,\n} from \"reactstrap\";\nimport SearchBar from \"./SearchBar\";\nimport Profile from \"./Profile\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Header = () => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [query, setQuery] = useContext(ApiContext);\n  const [token, setToken] = useContext(TokenContext);\n  const [show, setShow] = useState(false);\n  const history=useHistory();\n\n  const handleSignOut = () => {\n    setToken(null);\n    localStorage.removeItem(\"token\");\n    history.push('/');\n  };\n  const handleShowInfo = () => {\n    setShow(!show);\n  };\n\n  const toggle = () => setIsOpen(!isOpen);\n\n  useEffect(() => {\n    if (token) {\n      fetch(\"http://localhost:5000/check-token\", {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          if (data === \"expired\") {\n            setToken(null);\n            localStorage.removeItem(\"token\");\n          }\n        });\n    }\n  }, [setToken, token]);\n\n  return (\n    <div style={{ fontSize: \"18px\", position: \"relative\", zIndex: \"3\" }}>\n      <Navbar\n        style={{ padding: \"8px 40px 8px 50px\", backgroundColor: '#000' }}\n        dark\n        expand=\"md\"\n      >\n        <NavbarBrand href=\"/\">\n          <span className=\"logoA\">yummy </span>\n          <span className=\"logoB\">DB</span>\n        </NavbarBrand>\n        <NavbarToggler onClick={toggle} />\n        <Collapse isOpen={isOpen} navbar>\n          <Nav className=\"mr-auto, nav-bar\" navbar>\n            <NavItem style={{ paddingLeft: \"40px\" }}>\n              <NavLink href=\"/recipes\">\n                <div className=\"navLinkBtn\">\n                  Recipes{\" \"}\n                  <FontAwesomeIcon className=\"search-icon\" icon={faUtensils} />\n                </div>\n              </NavLink>\n            </NavItem>\n            <NavItem>\n              <SearchBar />\n            </NavItem>\n            {token ? (\n              <div\n                className=\"nav\"\n              >\n                <NavLink>\n                  <div className=\"navLinkBtn\" onClick={handleShowInfo}>\n                    <span>{show ? \"hide info\" : \"show info\"}</span>{\" \"}\n                    {show ? (\n                      <FontAwesomeIcon\n                        style={{ paddingTop: \"4px\" }}\n                        icon={faAngleUp}\n                      />\n                    ) : (\n                      <FontAwesomeIcon\n                        style={{ paddingTop: \"4px\" }}\n                        icon={faAngleDown}\n                      />\n                    )}\n                  </div>\n                </NavLink>\n                <NavItem>\n                  <NavLink title=\"your favorite recipes\" href=\"/favorite\">\n                    <div className=\"navLinkBtn\">\n                      <FontAwesomeIcon icon={faStar} />\n                    </div>\n                  </NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink title=\"update your info\" href=\"/edit-account-info\">\n                    <div className=\"navLinkBtn\">\n                      <FontAwesomeIcon icon={faUserEdit} />\n                    </div>\n                  </NavLink>\n                </NavItem>\n                <NavLink>\n                  <div\n                    className=\"navLinkBtn\"\n                    title=\"sign out\"\n                    onClick={handleSignOut}\n                  >\n                    <FontAwesomeIcon icon={faSignOutAlt} />\n                  </div>\n                </NavLink>\n              </div>\n            ) : (\n              <div\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  width: \"150px\",\n                }}\n              >\n                <NavItem>\n                  <NavLink href=\"/sign-up\">\n                    <div className=\"navLinkBtn\">Sign up</div>\n                  </NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink href=\"/login\">\n                    <div className=\"navLinkBtn\">Log in</div>\n                  </NavLink>\n                </NavItem>\n              </div>\n            )}\n          </Nav>\n        </Collapse>\n      </Navbar>\n      \n      <Profile pos={show ? \"open\" : \"\"} />\n    </div>\n  );\n};\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}