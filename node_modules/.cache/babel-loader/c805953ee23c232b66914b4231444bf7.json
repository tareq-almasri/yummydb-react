{"ast":null,"code":"var _jsxFileName = \"/home/dci/lord-of-scripts/final-project/food-nutrition/src/components/Login.js\";\nimport React, { useState, useContext } from \"react\";\nimport { TokenContext } from \"./TokenContext\";\nimport { useHistory } from \"react-router-dom\";\nconst history = useHistory();\nexport default function Login() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [token, setToken] = useContext(TokenContext);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    fetch(\"http://localhost:5000/login\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        email: email,\n        password: password\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n      setToken(data);\n      history.push({\n        pathname: \"/\",\n        state: {\n          token: token\n        }\n      });\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"input\", {\n    type: \"email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"password\"), React.createElement(\"input\", {\n    type: \"password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Login\")));\n}","map":{"version":3,"sources":["/home/dci/lord-of-scripts/final-project/food-nutrition/src/components/Login.js"],"names":["React","useState","useContext","TokenContext","useHistory","history","Login","email","setEmail","password","setPassword","token","setToken","handleSubmit","e","preventDefault","fetch","method","body","JSON","stringify","headers","then","res","json","data","console","log","push","pathname","state","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAA4C,OAA5C;AACA,SAASC,YAAT,QAA6B,gBAA7B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAEA,MAAMC,OAAO,GAAGD,UAAU,EAA1B;AAGA,eAAe,SAASE,KAAT,GAAiB;AAC5B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAkBP,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACQ,QAAD,EAAWC,WAAX,IAAwBT,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBV,UAAU,CAACC,YAAD,CAApC;;AAEA,QAAMU,YAAY,GAAEC,CAAD,IAAK;AACpBA,IAAAA,CAAC,CAACC,cAAF;AACAC,IAAAA,KAAK,CAAC,6BAAD,EAAgC;AACnCC,MAAAA,MAAM,EAAE,MAD2B;AAEnCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEb,QAAAA,KAAK,EAAEA,KAAT;AAAgBE,QAAAA,QAAQ,EAAEA;AAA1B,OAAf,CAF6B;AAGnCY,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AAH0B,KAAhC,CAAL,CAIGC,IAJH,CAIQC,GAAG,IAAEA,GAAG,CAACC,IAAJ,EAJb,EAIyBF,IAJzB,CAI8BG,IAAI,IAAG;AAACC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACFb,MAAAA,QAAQ,CAACa,IAAD,CAAR;AACJpB,MAAAA,OAAO,CAACuB,IAAR,CAAa;AACXC,QAAAA,QAAQ,EAAE,GADC;AAEXC,QAAAA,KAAK,EAAE;AAAEnB,UAAAA,KAAK,EAAEA;AAAT;AAFI,OAAb;AAGI,KATpC;AAUH,GAZD;;AAaA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,QAAQ,EAAEE,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,EAEE;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,KAAK,EAAEN,KAFT;AAGE,IAAA,QAAQ,EAAEO,CAAC,IAAIN,QAAQ,CAACM,CAAC,CAACiB,MAAF,CAASC,KAAV,CAHzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPF,EAQE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,KAAK,EAAEvB,QAFT;AAGE,IAAA,QAAQ,EAAEK,CAAC,IAAIJ,WAAW,CAACI,CAAC,CAACiB,MAAF,CAASC,KAAV,CAH5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,EAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAbF,CADF,CADF;AAmBH","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { TokenContext } from \"./TokenContext\";\nimport { useHistory } from \"react-router-dom\";\n\nconst history = useHistory();\n\n\nexport default function Login() {\n    const [email, setEmail]=useState('');\n    const [password, setPassword]=useState('');\n    const [token, setToken] = useContext(TokenContext);\n\n    const handleSubmit=(e)=>{\n        e.preventDefault();\n        fetch(\"http://localhost:5000/login\", {\n          method: \"POST\",\n          body: JSON.stringify({ email: email, password: password }),\n          headers: { \"Content-Type\": \"application/json\" }\n        }).then(res=>res.json()).then(data=> {console.log(data);\n                                            setToken(data);\n                                        history.push({\n                                          pathname: \"/\",\n                                          state: { token: token }\n                                        });})\n    }\n    return (\n      <div>\n        <form onSubmit={handleSubmit}>\n          <label>Email</label>\n          <input\n            type=\"email\"\n            value={email}\n            onChange={e => setEmail(e.target.value)}\n          />\n          <label>password</label>\n          <input\n            type=\"password\"\n            value={password}\n            onChange={e => setPassword(e.target.value)}\n          />\n          <button>Login</button>\n        </form>\n      </div>\n    );\n}\n\n\n"]},"metadata":{},"sourceType":"module"}