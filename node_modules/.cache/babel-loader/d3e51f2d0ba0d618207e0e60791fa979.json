{"ast":null,"code":"import _objectSpread from\"/home/dci/lord-of-scripts/yummy-db/react/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/dci/lord-of-scripts/yummy-db/react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext,Fragment}from\"react\";import{Link}from\"react-router-dom\";import\"../styles/Search.css\";import{ButtonDropdown,DropdownToggle,DropdownMenu,DropdownItem,Button}from\"reactstrap\";import{ApiContext}from\"./ApiContext\";import Header from\"./Header\";import Footer from\"./Footer\";var Search=function Search(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),recipies=_useState2[0],setRecipies=_useState2[1];var _useContext=useContext(ApiContext),_useContext2=_slicedToArray(_useContext,2),query=_useContext2[0],setQuery=_useContext2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),cuisine=_useState4[0],setCuisine=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),diet=_useState6[0],setDiet=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),intolerance=_useState8[0],setIntolerance=_useState8[1];var _useState9=useState(props.location.state?props.location.state.type:\"\"),_useState10=_slicedToArray(_useState9,2),type=_useState10[0],setType=_useState10[1];var _useState11=useState(12),_useState12=_slicedToArray(_useState11,2),recipeNumber=_useState12[0],setRecipeNumber=_useState12[1];useEffect(function(){fetch(\"https://api.spoonacular.com/recipes/search?cuisine=\".concat(cuisine,\"&diet=\").concat(diet,\"&intolerances=\").concat(intolerance,\"&number=\").concat(recipeNumber,\"&type=\").concat(type,\"&offset=0&query=\").concat(query,\"&apiKey=\").concat(process.env.REACT_APP_API_IN_USE),{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}}).then(function(res){return res.json();}).then(function(res){return setRecipies(res.results);}).catch(function(err){console.log(err);});},[cuisine,diet,intolerance,type,query,recipeNumber]);var cuisineArray=[\"African\",\"Chinese\",\"Japanese\",\"Korean\",\"Vietnamese\",\"Thai\",\"Indian\",\"British\",\"Irish\",\"French\",\"Italian\",\"Mexican\",\"Spanish\",\"Middle Eastern\",\"Jewish\",\"American\",\"Cajun\",\"Southern\",\"Greek\",\"German\",\"Nordic\",\"Eastern European\",\"Caribbean\",\"Latin American\"];var dietArray=[\"Pescetarian\",\"Lacto Vegetarian\",\"Ovo Vegetarian\",\"Vegan\",\"Paleo\",\"Primal\",\"Vegetarian\"];var intoleranceArray=[\"Dairy\",\"Egg\",\"Gluten\",\"Peanut\",\"Sesame\",\"Seafood\",\"Shellfish\",\"Soy\",\"Sulfite\",\"Tree Nut\",\"Wheat\"];var typeArray=[\"Main Course\",\"Side Dish\",\"Dessert\",\"Appetizer\",\"Salad\",\"Bread\",\"Breakfast\",\"Soup\",\"Beverage\",\"Sauce\",\"Drink\"];var _useState13=useState({cuisine:false,diet:false,intolerance:false,type:false}),_useState14=_slicedToArray(_useState13,2),dropdownOpen=_useState14[0],setOpen=_useState14[1];var _useState15=useState({cuisine:\"Any\",diet:\"Any\",intolerance:\"Any\",type:props.location.state?props.location.state.type:\"Any\"}),_useState16=_slicedToArray(_useState15,2),selection=_useState16[0],setSelection=_useState16[1];var _toggle=function toggle(item){var newState=_objectSpread({},dropdownOpen);newState[item]=!newState[item];setOpen(newState);};var changeSelection=function changeSelection(item,e){var newState=_objectSpread({},selection);newState[item]=e.target.innerText;setSelection(newState);};return React.createElement(Fragment,null,React.createElement(Header,null),React.createElement(\"div\",{style:{textAlign:\"center\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},id:\"body\"},React.createElement(\"h1\",{style:{textAlign:\"center\"}},query===\"\"?\"\":query.replace(/^\\w/,function(c){return c.toUpperCase();})),React.createElement(\"div\",{className:\"drop-down-menu\"},React.createElement(\"div\",{style:{margin:\"20px\",textAlign:\"center\"},className:\"cuisine-dropdown filterHover\"},React.createElement(\"div\",{className:\"cuisineTitle\"},\"Cuisine \"),React.createElement(ButtonDropdown,{size:\"md\",isOpen:dropdownOpen.cuisine,toggle:function toggle(){return _toggle(\"cuisine\");}},React.createElement(DropdownToggle,{className:\"drop-down-toggle\",caret:true},selection.cuisine),React.createElement(DropdownMenu,null,cuisineArray.map(function(oneCuisine){return React.createElement(DropdownItem,{className:\"drop-down-item\",key:oneCuisine,onClick:function onClick(e){changeSelection(\"cuisine\",e);setCuisine(oneCuisine);}},oneCuisine);})))),React.createElement(\"div\",{style:{margin:\"20px\",textAlign:\"center\"},className:\"diet-dropdown filterHover\"},React.createElement(\"div\",{className:\"cuisineTitle\"},\"Diet \"),React.createElement(ButtonDropdown,{isOpen:dropdownOpen.diet,toggle:function toggle(){return _toggle(\"diet\");}},React.createElement(DropdownToggle,{className:\"drop-down-toggle\",caret:true},selection.diet),React.createElement(DropdownMenu,null,dietArray.map(function(oneDiet){return React.createElement(DropdownItem,{className:\"drop-down-item\",key:oneDiet,onClick:function onClick(e){changeSelection(\"diet\",e);setDiet(oneDiet);}},oneDiet);})))),React.createElement(\"div\",{style:{margin:\"20px\",textAlign:\"center\"},className:\"intolerance-dropdown filterHover\"},React.createElement(\"div\",{className:\"cuisineTitle \"},\"Intolerance \"),React.createElement(ButtonDropdown,{isOpen:dropdownOpen.intolerance,toggle:function toggle(){return _toggle(\"intolerance\");}},React.createElement(DropdownToggle,{className:\"drop-down-toggle\",caret:true},selection.intolerance),React.createElement(DropdownMenu,null,intoleranceArray.map(function(oneIntol){return React.createElement(DropdownItem,{className:\"drop-down-item\",key:oneIntol,onClick:function onClick(e){changeSelection(\"intolerance\",e);setIntolerance(oneIntol);}},oneIntol);})))),React.createElement(\"div\",{style:{margin:\"20px\",textAlign:\"center\"},className:\"type-dropdown filterHover\"},React.createElement(\"div\",{className:\"cuisineTitle\"},\"Type\"),React.createElement(ButtonDropdown,{isOpen:dropdownOpen.type,toggle:function toggle(){return _toggle(\"type\");}},React.createElement(DropdownToggle,{className:\"drop-down-toggle\",caret:true},selection.type),React.createElement(DropdownMenu,null,typeArray.map(function(oneType){return React.createElement(DropdownItem,{className:\"drop-down-item\",key:oneType,onClick:function onClick(e){changeSelection(\"type\",e);setType(oneType);}},oneType);}))))),React.createElement(\"div\",{className:\"recipies-section\"},console.log(recipies),recipies.map(function(res){return React.createElement(Link,{key:res.id,className:\"card-image\",to:\"recipe/\".concat(res.id)},React.createElement(\"div\",{id:\"image\"},React.createElement(\"img\",{src:\"https://spoonacular.com/recipeImages/\".concat(res.image),alt:res.title,width:\"100%\"})),React.createElement(\"h2\",{id:\"recipe-title\"},res.title.replace(/^\\w/,function(c){return c.toUpperCase();})),React.createElement(\"div\",{id:\"time-icon\"},React.createElement(\"i\",{className:\"far fa-clock\"}),React.createElement(\"span\",{id:\"time\"},res.readyInMinutes>60?Math.floor(res.readyInMinutes/60)+\"h\":res.readyInMinutes+\"min\")));})),React.createElement(\"div\",{id:\"more-button-section\"},React.createElement(Button,{id:\"more-button\",onClick:function onClick(){return setRecipeNumber(recipeNumber+12);}},\"More\"))),React.createElement(Footer,null));};export default Search;","map":{"version":3,"sources":["/home/dci/lord-of-scripts/yummy-db/react/src/components/Search.js"],"names":["React","useState","useEffect","useContext","Fragment","Link","ButtonDropdown","DropdownToggle","DropdownMenu","DropdownItem","Button","ApiContext","Header","Footer","Search","props","recipies","setRecipies","query","setQuery","cuisine","setCuisine","diet","setDiet","intolerance","setIntolerance","location","state","type","setType","recipeNumber","setRecipeNumber","fetch","process","env","REACT_APP_API_IN_USE","method","headers","then","res","json","results","catch","err","console","log","cuisineArray","dietArray","intoleranceArray","typeArray","dropdownOpen","setOpen","selection","setSelection","toggle","item","newState","changeSelection","e","target","innerText","textAlign","display","flexDirection","alignItems","replace","c","toUpperCase","margin","map","oneCuisine","oneDiet","oneIntol","oneType","id","image","title","readyInMinutes","Math","floor"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext, Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"../styles/Search.css\";\n\nimport {\n  ButtonDropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem,\n  Button,\n} from \"reactstrap\";\nimport { ApiContext } from \"./ApiContext\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\n\nconst Search = (props) => {\n  const [recipies, setRecipies] = useState([]);\n  const [query, setQuery] = useContext(ApiContext);\n  const [cuisine, setCuisine] = useState(\"\");\n  const [diet, setDiet] = useState(\"\");\n  const [intolerance, setIntolerance] = useState(\"\");\n  const [type, setType] = useState(\n    props.location.state ? props.location.state.type : \"\"\n  );\n  const [recipeNumber, setRecipeNumber] = useState(12);\n\n\n  useEffect(() => {\n   \n    fetch(\n      `https://api.spoonacular.com/recipes/search?cuisine=${cuisine}&diet=${diet}&intolerances=${intolerance}&number=${recipeNumber}&type=${type}&offset=0&query=${query}&apiKey=${process.env.REACT_APP_API_IN_USE}`,\n      {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n      .then((res) => res.json())\n      .then((res) => setRecipies(res.results))\n      .catch((err) => {\n        console.log(err);\n      });\n    \n  }, [cuisine, diet, intolerance, type, query, recipeNumber]);\n\n  const cuisineArray = [\n    \"African\",\n    \"Chinese\",\n    \"Japanese\",\n    \"Korean\",\n    \"Vietnamese\",\n    \"Thai\",\n    \"Indian\",\n    \"British\",\n    \"Irish\",\n    \"French\",\n    \"Italian\",\n    \"Mexican\",\n    \"Spanish\",\n    \"Middle Eastern\",\n    \"Jewish\",\n    \"American\",\n    \"Cajun\",\n    \"Southern\",\n    \"Greek\",\n    \"German\",\n    \"Nordic\",\n    \"Eastern European\",\n    \"Caribbean\",\n    \"Latin American\",\n  ];\n\n  const dietArray = [\n    \"Pescetarian\",\n    \"Lacto Vegetarian\",\n    \"Ovo Vegetarian\",\n    \"Vegan\",\n    \"Paleo\",\n    \"Primal\",\n    \"Vegetarian\",\n  ];\n  const intoleranceArray = [\n    \"Dairy\",\n    \"Egg\",\n    \"Gluten\",\n    \"Peanut\",\n    \"Sesame\",\n    \"Seafood\",\n    \"Shellfish\",\n    \"Soy\",\n    \"Sulfite\",\n    \"Tree Nut\",\n    \"Wheat\",\n  ];\n  const typeArray = [\n    \"Main Course\",\n    \"Side Dish\",\n    \"Dessert\",\n    \"Appetizer\",\n    \"Salad\",\n    \"Bread\",\n    \"Breakfast\",\n    \"Soup\",\n    \"Beverage\",\n    \"Sauce\",\n    \"Drink\",\n  ];\n\n  const [dropdownOpen, setOpen] = useState({\n    cuisine: false,\n    diet: false,\n    intolerance: false,\n    type: false,\n  });\n\n  const [selection, setSelection] = useState({\n    cuisine: \"Any\",\n    diet: \"Any\",\n    intolerance: \"Any\",\n    type: props.location.state?props.location.state.type:\"Any\",\n  });\n\n  const toggle = (item) => {\n    const newState = { ...dropdownOpen };\n    newState[item] = !newState[item];\n    setOpen(newState);\n  };\n\n  const changeSelection = (item, e) => {\n    const newState = { ...selection };\n    newState[item] = e.target.innerText;\n    setSelection(newState);\n  };\n\n  return (\n    <Fragment>\n      <Header />\n      <div\n        style={{\n          textAlign: \"center\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n        }}\n        id=\"body\"\n      >\n        <h1 style={{ textAlign: \"center\" }}>\n          {query === \"\" ? \"\" : query.replace(/^\\w/, (c) => c.toUpperCase())}\n        </h1>\n\n        <div className=\"drop-down-menu\">\n          <div\n            style={{ margin: \"20px\", textAlign: \"center\" }}\n            className=\"cuisine-dropdown filterHover\"\n          >\n            <div className=\"cuisineTitle\">Cuisine </div>\n            <ButtonDropdown\n              size=\"md\"\n              isOpen={dropdownOpen.cuisine}\n              toggle={() => toggle(\"cuisine\")}\n            >\n              <DropdownToggle className=\"drop-down-toggle\" caret>\n                {selection.cuisine}\n              </DropdownToggle>\n              <DropdownMenu>\n                {cuisineArray.map((oneCuisine) => (\n                  <DropdownItem\n                    className=\"drop-down-item\"\n                    key={oneCuisine}\n                    onClick={(e) => {\n                      changeSelection(\"cuisine\", e);\n                      setCuisine(oneCuisine);\n                    }}\n                  >\n                    {oneCuisine}\n                  </DropdownItem>\n                ))}\n              </DropdownMenu>\n            </ButtonDropdown>\n          </div>\n          <div\n            style={{ margin: \"20px\", textAlign: \"center\" }}\n            className=\"diet-dropdown filterHover\"\n          >\n            <div className=\"cuisineTitle\">Diet </div>\n            <ButtonDropdown\n              isOpen={dropdownOpen.diet}\n              toggle={() => toggle(\"diet\")}\n            >\n              <DropdownToggle className=\"drop-down-toggle\" caret>\n                {selection.diet}\n              </DropdownToggle>\n              <DropdownMenu>\n                {dietArray.map((oneDiet) => (\n                  <DropdownItem\n                    className=\"drop-down-item\"\n                    key={oneDiet}\n                    onClick={(e) => {\n                      changeSelection(\"diet\", e);\n                      setDiet(oneDiet);\n                    }}\n                  >\n                    {oneDiet}\n                  </DropdownItem>\n                ))}\n              </DropdownMenu>\n            </ButtonDropdown>\n          </div>\n          <div\n            style={{ margin: \"20px\", textAlign: \"center\" }}\n            className=\"intolerance-dropdown filterHover\"\n          >\n            <div className=\"cuisineTitle \">Intolerance </div>\n            <ButtonDropdown\n              isOpen={dropdownOpen.intolerance}\n              toggle={() => toggle(\"intolerance\")}\n            >\n              <DropdownToggle className=\"drop-down-toggle\" caret>\n                {selection.intolerance}\n              </DropdownToggle>\n              <DropdownMenu>\n                {intoleranceArray.map((oneIntol) => (\n                  <DropdownItem\n                    className=\"drop-down-item\"\n                    key={oneIntol}\n                    onClick={(e) => {\n                      changeSelection(\"intolerance\", e);\n                      setIntolerance(oneIntol);\n                    }}\n                  >\n                    {oneIntol}\n                  </DropdownItem>\n                ))}\n              </DropdownMenu>\n            </ButtonDropdown>\n          </div>\n          <div\n            style={{ margin: \"20px\", textAlign: \"center\" }}\n            className=\"type-dropdown filterHover\"\n          >\n            <div className=\"cuisineTitle\">Type</div>\n            <ButtonDropdown\n              isOpen={dropdownOpen.type}\n              toggle={() => toggle(\"type\")}\n            >\n              <DropdownToggle className=\"drop-down-toggle\" caret>\n                {selection.type}\n              </DropdownToggle>\n              <DropdownMenu>\n                {typeArray.map((oneType) => (\n                  <DropdownItem\n                    className=\"drop-down-item\"\n                    key={oneType}\n                    onClick={(e) => {\n                      changeSelection(\"type\", e);\n                      setType(oneType);\n                    }}\n                  >\n                    {oneType}\n                  </DropdownItem>\n                ))}\n              </DropdownMenu>\n            </ButtonDropdown>\n          </div>\n        </div>\n        <div className=\"recipies-section\">\n          {console.log(recipies)}\n          {recipies.map((res) => (\n            <Link key={res.id} className=\"card-image\" to={`recipe/${res.id}`}>\n              <div id=\"image\">\n                <img\n                  src={`https://spoonacular.com/recipeImages/${res.image}`}\n                  alt={res.title}\n                  width=\"100%\"\n                />\n              </div>\n              <h2 id=\"recipe-title\">\n                {res.title.replace(/^\\w/, (c) => c.toUpperCase())}\n              </h2>\n              <div id=\"time-icon\">\n                <i className=\"far fa-clock\"></i>\n                <span id=\"time\">\n                  {res.readyInMinutes > 60\n                    ? Math.floor(res.readyInMinutes / 60) + \"h\"\n                    : res.readyInMinutes + \"min\"}\n                </span>\n              </div>\n            </Link>\n          ))}\n        </div>\n        <div id=\"more-button-section\">\n          <Button\n            id=\"more-button\"\n            onClick={() => setRecipeNumber(recipeNumber + 12)}\n          >\n            More\n          </Button>\n        </div>\n      </div>\n      <Footer />\n    </Fragment>\n  );\n};\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}